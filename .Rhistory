test <- readRDS("~/Andres/ANDES/2.5/ProblemSet3/test.Rds")
train <- readRDS("~/Andres/ANDES/2.5/ProblemSet3/train.Rds")
#Problem set 3
#Limpiar memoria y colocar el WD------
rm(list=ls()) ## Limpiar el entorno de trabajo
getwd()
#librerias----
require(pacman) # Llamar pacman (contiene la funciÃ³n p_load)
# Llamar/instalar-llamar las librerÃ­as-----
p_load(tidyverse, # manipular/limpiar conjuntos de datos.
rio, # funciÃ³n import/export: leer/escribir archivos desde diferentes formatos.
sf, # Leer/escribir/manipular datos espaciales
leaflet,
tmaptools, # geocode_OSM()
osmdata) # Get OSM's data) # Visualizaciones dinÃ¡micas
#1 Obtener datos-------
## descomprimir archivo
test <- readRDS("test.Rds")
train <- readRDS("train.Rds")
glimpse(test)
glimpse(train)
summary(test$l3)
glimpse(test$l3)
table(test$l3)
table(test$title)
test$localidad_filtrada <- grepl("chapinero"|"el poblado"|"poblado", test$title, ignore.case= T)
test$localidad_filtrada <- grepl("chapinero|el poblado|poblado", test$title, ignore.case= T)
table(test$localidad_filtrada)
test$localidad_filtrada_chapinero <- grepl("chapinero", test$title, ignore.case= T)
test$localidad_filtrada_poblado <- grepl("el poblado|poblado", test$title, ignore.case= T)
test$localidad <- ifelse(test$localidad_filtrada_chapinero == TRUE, "CHAPINERO",
ifelse(test$localidad_filtrada_poblado == TRUE, "POBLADO","NO APLICA"))
table(test$localidad)
##
test$localidad_filtrada_chapinero <- grepl("chapinero", test$title, ignore.case= T)
test$localidad_filtrada_poblado <- grepl("el poblado|poblado", test$title, ignore.case= T)
test$localidad <- ifelse(test$localidad_filtrada_chapinero == TRUE, "CHAPINERO",
ifelse(test$localidad_filtrada_poblado == TRUE, "POBLADO","NO APLICA"))
##
train$localidad_filtrada_chapinero <- grepl("chapinero", test$title, ignore.case= T)
train$localidad_filtrada_poblado <- grepl("el poblado|poblado", test$title, ignore.case= T)
train$localidad <- ifelse(train$localidad_filtrada_chapinero == TRUE, "CHAPINERO",
ifelse(train$localidad_filtrada_poblado == TRUE, "POBLADO","NO APLICA"))
table(test$localidad)
table(train$localidad)
##
test$localidad_filtrada_chapinero <- grepl("chapinero", test$title, ignore.case= T)
test$localidad_filtrada_poblado <- grepl("el poblado|poblado", test$title, ignore.case= T)
test$localidad <- ifelse(test$localidad_filtrada_chapinero == TRUE, "CHAPINERO",
ifelse(test$localidad_filtrada_poblado == TRUE, "POBLADO","NO APLICA"))
##
train$localidad_filtrada_chapinero <- grepl("chapinero", train$title, ignore.case= T)
train$localidad_filtrada_poblado <- grepl("el poblado|poblado", train$title, ignore.case= T)
train$localidad <- ifelse(train$localidad_filtrada_chapinero == TRUE, "CHAPINERO",
ifelse(train$localidad_filtrada_poblado == TRUE, "POBLADO","NO APLICA"))
table(test$localidad)
table(train$localidad)
test_final <- subset(test, localidad == "CHAPINERO"|localidad== "POBLADO")
table(test_final$localidad)
